<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Transition Example</title>
    <link rel="stylesheet" href="examples.css" />
  </head>
  <body>
    <main>
      <h1>Transition Example</h1>

      <p>This is an RNA container.</p>
      <div id="rna_ss" class="demo-container"></div>
      <p>This after the RNA container.</p>

      <div class="options-form">
        <button onclick="reset()">Reset</button>
        <button onclick="step1()">Start</button>
      </div>
    </main>

    <script src="https://unpkg.com/d3@3.5"></script>
    <script type="module">
      import { FornaContainer } from '@pablog02/fornac';

      const rnaSteps = [
        '............',
        '...(....)...',
        '..((....))...',
        '.(((....)))...',
        '((((....))))...',
      ];

      const funcs = [];

      let container = new FornaContainer('#rna_ss', { animation: false, zoomable: true });
      container.displayNumbering(false);
      container.displayDirectionArrows(false);

      container.addRNA(rnaSteps[0]);

      // Expose functions to window for button onclick handlers
      window.reset = () => { container.transitionRNA(rnaSteps[0]) };
      window.step1 = () => { container.transitionRNA(rnaSteps[1], window.step2) };
      window.step2 = () => { container.transitionRNA(rnaSteps[2], window.step3) };
      window.step3 = () => { container.transitionRNA(rnaSteps[3], window.step4) };
      window.step4 = () => { container.transitionRNA(rnaSteps[4]) };

      window.step1();
    </script>
  </body>
</html>
