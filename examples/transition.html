<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="utf-8">
  <title>Transition Example</title>
</head>
<body>
    <div style="max-width: 800px; margin: auto;">
    <h3>Transition Example</h3>

    This is an RNA container.
    <div id='rna_ss'> </div>
    This after the RNA container.

    <br/><button onclick="reset()">Reset</button>
    <br/><button onclick="step1()">Start</button>

    <script src="https://unpkg.com/d3@3.5"></script>
    <script type="module">
      import { FornaContainer } from '@pablog02/fornac';

      const rnaSteps = [
        '............',
        '...(....)...',
        '..((....))...',
        '.(((....)))...',
        '((((....))))...'
      ];

      const funcs = [];

      let container = new FornaContainer("#rna_ss",
          {'animation': false, 'zoomable': true});
      container.displayNumbering(false);
      container.displayDirectionArrows(false);

      container.addRNA(rnaSteps[0]);

      // Expose functions to window for button onclick handlers
      window.reset = () => { container.transitionRNA(rnaSteps[0]) };
      window.step1 = () => { container.transitionRNA(rnaSteps[1], window.step2) };
      window.step2 = () => { container.transitionRNA(rnaSteps[2], window.step3) };
      window.step3 = () => { container.transitionRNA(rnaSteps[3], window.step4) };
      window.step4 = () => { container.transitionRNA(rnaSteps[4]) };

      window.step1();
    </script>
</div>
</body>
</html>
