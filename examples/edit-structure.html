<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fornac Editing Example</title>
    <link rel="stylesheet" href="examples.css" />
  </head>
  <body>
    <main>
      <h1>Forna RNA Editor</h1>

      <p>The RNA below is editable:</p>

      <div id="rna_ss" class="demo-container"></div>

      <h3>Instructions</h3>
      <ul>
        <li><b>Right click</b> on the canvas and click on 'Add Node' to add a node.</li>
        <li><b>Shift click</b> on any link to remove the link</li>
        <li><b>Shift click</b> on a node and drag to create new links
          <ul>
            <li>Linking unpaired nucleotides creates base pair bonds</li>
            <li>Linking nodes in different molecules creates a inter-molecule pair</li>
            <li>
              Linking the ends of two molecules prompts you whether you want to create a base pair or
              a backbone link.
            </li>
          </ul>
        </li>
        <li><b>Right click</b> on a node and click:
          <ul>
            <li>Delete node to delete that node</li>
            <li>Change node to change it to another type</li>
            <li>Insert before to insert a different node before this one</li>
            <li>Insert after to insert a different node after this one</li>
          </ul>
        </li>
      </ul>
    </main>

    <script src="https://unpkg.com/d3@3.5"></script>
    <script type="module">
      import { FornaContainer } from '@pablog02/fornac';

      function normalContainer() {
        let container = new FornaContainer('#rna_ss', {
          animation: true,
          zoomable: true,
          initialSize: [600, 300],
          editable: true,
        });

        /*
      let options = {'structure': '..((..((...[)).(((..].))).))..',
          'sequence': 'AACGCUUCAUAUAAUCCUAAUGACCUAUAA'
      };
      */
        let options = { structure: '.((..)).', sequence: '12345678', avoidOthers: true };
        container.addRNA(options.structure, options);
        container.addRNA('.', { structure: '.', sequence: 'A', avoidOthers: true });
        container.addRNA('.', { structure: '.', sequence: 'C', avoidOthers: true });
        //container.addRNA(options.structure, options);
      }

      normalContainer();
    </script>
  </body>
</html>
