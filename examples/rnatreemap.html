<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RNAtreemap Examples</title>
    <link rel="stylesheet" href="examples.css" />
  </head>
  <body>
    <main>
      <h1>RNAtreemap Examples</h1>

      <h3>RNA Treemap:</h3>
      <div id="rna_tm" class="svg-container-grid"></div>

      <h3>RNA Treemap Grid:</h3>
      <div id="rna_tmg" class="svg-container-grid"></div>
    </main>

    <script src="https://unpkg.com/d3@3.5"></script>
    <script type="module">
      import { rnaTreemap } from '@pablog02/fornac';

      let testData = [
        {
          name: 'graph',
          children: [
            {
              structure: '((..((....)).(((....))).))',
              sequence: 'CGCUUCAUAUAAUCCUAAUGACCUAU',
              name: '1)',
              size: 50,
            },
            {
              structure: '((...........(((....))).))',
              sequence: 'CGCUUCAUAUAAUCCUAAUGACCUAU',
              name: '2)',
              size: 40,
            },
            {
              structure: '..........................',
              sequence: 'CGCUUCAUAUAAUCCUAAUGACCUAU',
              name: '3)',
              size: 10,
            },
          ],
        },
      ];

      var svgWidth = 400;
      var svgHeight = 100;

      var chart = rnaTreemap()
        .rnaLayout('simple')
        .rnaEdgePadding(5)
        .namePosition('0 0')
        .startNucleotideNumber(10)
        .labelInterval(5)
        .width(svgWidth)
        .height(svgHeight);

      var svg = d3
        .select('#rna_tm')
        .selectAll('svg')
        .data(testData)
        .enter()
        .append('svg')
        .attr('preserveAspectRatio', 'xMidYMid meet')
        .attr('viewBox', '0 0 ' + svgWidth + ' ' + svgHeight)
        .call(chart);

      var multiData = [
        {
          name: 'graph',
          children: [
            {
              structure: '((..((....)).(((....))).))',
              sequence: 'CGCUUCAUAUAAUCCUAAUGACCUAU',
              size: 50,
            },
            {
              structure: '((...........(((....))).))',
              sequence: 'CGCUUCAUAUAAUCCUAAUGACCUAU',
              size: 40,
            },
            {
              structure: '..........................',
              sequence: 'CGCUUCAUAUAAUCCUAAUGACCUAU',
              size: 10,
            },
          ],
        },
        {
          name: 'graph',
          children: [
            {
              structure: '...........(((((.....)))))..',
              sequence: 'CGCUUCAUAUAAUCCUAAUGACCUAUGG',
              size: 50,
            },
            {
              structure: '(((((((......)))).))).......',
              sequence: 'CGCUUCAUAUAAUCCUAAUGACCUAUGG',
              size: 50,
            },
          ],
        },
        {
          name: 'graph',
          children: [
            {
              structure: '(((.....)))(((((.....)))))..',
              sequence: 'CGCUUCAUAUAAUCCUAAUGACCUAUGG',
              size: 30,
            },
            {
              structure: '(((((((......)))).)))((...))',
              sequence: 'CGCUUCAUAUAAUCCUAAUGACCUAUGG',
              size: 70,
            },
          ],
        },
      ];

      var svgWidth = 200;
      var svgHeight = 200;

      var chart = rnaTreemap()
        .rnaLayout('simple')
        .rnaEdgePadding(5)
        .namePosition('0 0')
        .startNucleotideNumber(10)
        .labelInterval(5)
        .width(svgWidth)
        .height(svgHeight);

      var svg = d3
        .select('#rna_tmg')
        .selectAll('.div')
        .data(multiData)
        .enter()
        .append('div')
        .classed('svg-container', true)
        .append('svg')
        .attr('preserveAspectRatio', 'xMidYMid meet')
        .attr('viewBox', '0 0 ' + svgWidth + ' ' + svgHeight)
        .call(chart);
    </script>
  </body>
</html>
